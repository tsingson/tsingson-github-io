---
title: "一些个人看法"
date: 2019-05-30T22:02:57+08:00
hidden: false
draft: true
author: "tsingson"

categories : [ "Development" ]
series: “mac"
tags: [mac,golang]
keywords: [tsingson,gdihf,music,harmonica,blues]

description: "mac 并不适合编程"
slug: "my-note"

---



![img](https://pic4.zhimg.com/50/v2-d5413facd8b30fdc6cc80e63011934a6_b.jpg)

利益相关? : 华为曾经的友商 --- 前UTstarcom IPTV/OTT事业部员工, 曾任SA/SE职位, 当前为自由职业者



------

## 0. 闲扯及个人看法

偶曾在 UTstarcom 的 ITPV/OTT事业部任职, 职位是 SA/SE ( 架构/解决方案), 我在的 SA/SE小组, 不少去了华为. 大家都忙碌着, busy to die, or busy to live................ 由于职业操守与习惯, 生活中交流一般不会谈及任何任职企业内部工作关联内容.

------

## 个人当前主要工作为口琴演奏为主的音乐培训, 也接一些软件开发/咨询/平面设计的委托项目 ( 嗯, 这一行算是自我吹嘘, 蹭热度的实锤了.....哈) 

## 工作/生活上与华为没有任何业务往来. 家里除了宽带光路由(电信送的)之外, 没有任何华为的产品. 

## 这个小回复,仅仅独立表达个人看法. // 这个小回复,仅仅独立表达个人看法. //这个小回复,仅仅独立表达个人看法.

------

华为在企业行为上的"狼性", 在市场"战略性"竞争及打压友商, 以及华为员工工作时间上"紧迫感".......这些事儿上, 就不评论了. 

华为在技术上的努力, 以及一众和我共事过/战斗过的同事/朋友及研发线/产品线上的同行们, **我是非常尊重的**.

2005年到2014年, 有些是并肩战斗过, 有一些同行是面对面战斗过, 比如, 在 CCSA 的 IPTV/OTT 行业标准会议上和我怒怼过的同行朋友们, 哈哈( 往事历历, 甚是怀念) . 工作上各为其主, 怼得不可开交, 平时生活中相互尊重, 君子之交. 尤其有趣的, 这个月是同事( 甚至是同一个team的同事) , 下个月是对手, 或者这个月还是同事, 下个月就是甲方, 乙方技术代表........

很是敬重这些共事过或战斗过的华为/中兴/爱立信/阿尔卡特/电信/广电......一众同行们的为人处事与技术水准......

这些天和朋友喝酒撸串, 谈到这次方舟编译器开源等相关热点事件, 想了想, 大约是以下看法:

1. 华为技术实力与资源都非常强非常强, 对于 PPT 上谈到的, 有实力做出来.
2. 华为本次"开源", 有过度承诺之嫌
3. 华为本次"开源", 有 trade-off 与营销宣传冲突



## 1. 华为有实力开发 PPT 上谈到的 IR 以及优化构想, 但限于华为软硬件

从华为手机历史进华过程来看, 华为在走 apple 曾经成功过的路子: 自家硬件与自家软件的紧密结合 + 深度优化, 软硬件成本与用户优秀体验的商业平衡( trade-off) , 构建商业护城河并加大利润空间

这是大前提

加上华为的人才储备以及技术积累( 尤其是手机终端上的技术研发积累) , 华为有能力/有实力/有决心/有计划/有进展地实施着以上基于华为硬件及软件上的整合与优化. 

这里提到的硬件, 包括大多数华为自研的芯片, 存储, 宽带, 存储/传输设备等, 而软件则包括终端与服务端的操作系统/应用软件/工具链/云平台/云物联, 以及存储/云服务相关的多数自有知识产权或自有专利软件/工具

从这个角度来说, **华为方舟编译器开源 事件具有足够的事实基础: 也就是, 华为有能力/有实力去实现 PPT 上的技术目标---------这是一个构想, 一个远景, 非常棒的愿景**

**从方舟编译器开源的宣传与发出的代码来看, 这个构想应该是在实施过程中.......... 而洪蒙/方舟是这一构想实施中的一个组成部分**



## 2. 华为本次"开源", 有过度承诺之嫌

从宣传文字来看, 背后有一个团队在实施, 但个人猜测, 这个团队应该是以技术预研为主的团队

> 注: 1. 从我在 UTstarcom 经历来看, SA/SE 团队进行技术预研是工作岗位的重要组成部分. 技术预研除了内部专业领域人员在实施之外, 很大部分与外部的学校/专业团队/行业专家合作共同进行 2. 技术预研, 相当部分会转化为防御性的专利, 最后结果能转化到生产环境中的解决方案, 非常少 2. 前 UTstarcom SA/SE 团队中不少好手, 转到华为后, 依然是在架构/解决方案相关职位上 

另外, 华为开源事件, 在已有的宣传/营销表现来看, 华为的宣传, 更多是表达出一个讯号, 也就是华为在进行事件营销, 高调宣布了华为在进行的技术方向与技术构想

但这个宣传, 有点过于"理想化", 有"过度营销/过度承诺之嫌":

1. 从商业角度, 方舟及洪蒙背后, 必然有很多核心技术支撑, 而这些核心技术可能部分还在专利申请过程中, 可能部分处于商业考虑, 暂不对外公开
2. 从研发实施角度, 一个经过内部评审并决策下来的技术预案以及预研课题, 从理论研究, 方案成型, 原型开发与验证, 研发实施到生产化实施, 有一个相对比较长的过程. 方舟编译器, 应该是一个实施中的预研方案
3. **方舟编译器并没有达到生产化这一阶段, 应该还在原型开发到测试论证并进行技术验证阶段.** 只是为了配合宣传, 这个实施过程中的部分代码被"紧急" 开源了

**基于以上原因, 方舟编译器源代码并不完全, 至少方舟编译器在宣传中的技术核心的 IR 解析/构造部分, 尤其是最核心的 IR 到机器码的转化/优化部分, 并没有公开.** 

**这是我认为有"过虑营销/**过度承诺之嫌"的猜疑----- 有可能是商业授权及技术专利相关工作还在进行中, 而开源时间点在宣传上被提前了.........



## 3. 华为本次"开源", 有 trade-off 与营销宣传冲突

简单考虑一下当前华为的国内外处境, 华为有必要发出自主芯片, 自主技术生态这类的宣告, 由此, 华为花样营销/花样宣传洪蒙/方舟............. 这在情理之中, 画大饼/ 绘愿景 / 开源承诺......都是宣传主导, 偶有夸大也是正常, 尤其是这样的互联网环境, 这样的国情

而从技术上考虑一个解决方案, trade-off (商业平衡) 是很复杂的一件事, 即要宣传技术上的前瞻性/先进性, 也要隐藏/保护自己的核心技术, 更要树立一个正面的品牌形象.......

所以, 看起来 "PPT 式开源" 就成了宣传上的高大上( 60%效率提升) 与开源代码上的虚空缺 ( 核心代码在当前没有公开也没有详细说明) , 再加上开源社区的程序员们, 即"认真", 又"可爱", 即"强大"又"纯洁", 宣传上的高大上与当前开源上的缺失( 核心代码没有, 代码不规范, 开源库的提交不严谨......... ) , 这样的冲突, 成了 "骂声一片"............... 

( 注: 骂声一片, 也是营销上的一个目标及手段............哈哈) 



## 4. ( coding ) make it work, make it graceful

![img](https://pic1.zhimg.com/50/v2-60393ffb463e03719ed4829a9a81c9c5_b.jpg)

上图左侧的英文, 这样翻译: 先吃上饭, 再扯蛋............. 哈哈



截图来自 https://speakerdeck.com/julieqiu/finding-dependable-go-packages



( 写代码 ) 写能挣钱的代码( make it work) , 写优雅的代码( make it graceful ) 

在某些场景某些项目阶段( 确保我们能 first we eat 先吃上饭) , 尤其是时间压力非常大情况下, 我个人是反对使用 TDD / DDD 这样的 coding 方式, 更是不会实施 "优雅地编码" . 

吃上饭了, 再来扯 we do everything else................ 再来谈编码的优雅



上面扯到了方舟编译器开源出来的代码, 不少开源朋友说了很多有关代码规范, 内存泄露........等等问题, 的确........

不过, 能按预期交付, 按预期( 业务设计逻辑) 工作的烂代码, 可能是一个过程吧

软件工程中, make it work 有时候是写出烂代码的唯一出路. 要知道, 迫于上线时间压力, 迫于生产现场的故障需要紧急快速处理的压力, 处于避免更"高大上"级别的损失, 有时, 事后修修烂代码只是一件小事

这样看来, 方舟代码的不优雅, 也还行, 毕竟, 不是最终作品.........

------

上面说到 TDD / DDD , 并没有一刀切打死的意思. 事实一些关键业务的代码, 也可能用到 TDD. 

个人更倾向于 case by case , 具体场景具体分析. 更倾向于在编写代码之前, 充分考虑清楚业务场景, 业务流程, 业务代码实现中的边界, 提前预处理好业务逻辑中各种可能的错误/异常的完整/清晰/准确的澄清并给出相应的处置.( cover almost all error handle ) -------而不是在 TDD 或事后的 UT ( 单元测试) / LIT / SIT ( 子系统测试及 end-to-end 集成测试) 中去发现代码中的 bug 再去修正 bug 

------

## 5. 小结

个人认为, 华为在解决方舟编译器( 尤其是 IR 核心) 的商业考量( 申请专利及商业授权................) 与产品化( IR 真正成熟能用在生产环境.......) 之后, 应该会给出一个让开源社区基本认可的结果. 

毕竟, 对于一个渴望成为行业领头的企业来说, 过度宣传可以有, 虚假承诺不能有.







以上, 仅代表个人试图客观一些的主观猜想, 欢迎友好交流

祝愉快.........



tsingson 于中国.深圳.小罗号口琴音乐中心 2019/09/04



_